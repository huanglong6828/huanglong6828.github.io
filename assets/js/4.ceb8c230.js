(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{452:function(t,s,a){t.exports=a.p+"assets/img/1.27123431.png"},453:function(t,s,a){t.exports=a.p+"assets/img/2.930ee284.png"},454:function(t,s,a){t.exports=a.p+"assets/img/3.0011f421.png"},455:function(t,s,a){t.exports=a.p+"assets/img/4.ab5d8830.png"},456:function(t,s,a){t.exports=a.p+"assets/img/t1.3aa0a759.png"},457:function(t,s,a){t.exports=a.p+"assets/img/t2.289dadeb.png"},458:function(t,s,a){t.exports=a.p+"assets/img/t3.18ce037d.png"},467:function(t,s,a){"use strict";a.r(s);var e=a(2),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("by "),e("a",{attrs:{href:"https://github.com/huanglong6828",target:"_blank",rel:"noopener noreferrer"}},[t._v("@huanglong"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"构建于"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建于"}},[t._v("#")]),t._v(" 构建于")]),t._v(" "),e("p",[t._v("该项目基于以下开源技术构建：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/vuepress",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sqrthree/vuepress-theme-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-api"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://travis-ci.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis Cl"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://brew.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("brew"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"环境依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境依赖"}},[t._v("#")]),t._v(" 环境依赖")]),t._v(" "),e("p",[t._v("在开始使用本项目之前，请确保安装有以上环境。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/vuepress",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sqrthree/vuepress-theme-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-api"),e("OutboundLink")],1),t._v("\n如果你已经有了 "),e("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),e("OutboundLink")],1),t._v("环境，可以通过以下命令安装 "),e("code",[t._v("VuePress")]),t._v(" 、 "),e("code",[t._v("vuepress-theme-api")]),t._v("。")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装 vuepress")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" vuepress "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR npm install -g vuepress")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装主题")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" vuepress-theme-api "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR npm install -g vuepress-theme-api")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动")]),t._v("\nvuepress dev\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建静态文件")]),t._v("\nvuepress build\n\n")])])]),e("h2",{attrs:{id:"自动化部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自动化部署"}},[t._v("#")]),t._v(" 自动化部署")]),t._v(" "),e("p",[t._v("配置Travis Cl")]),t._v(" "),e("p",[t._v("github在必须从master分支构建。那么我们调整思路，新增一个source分支为代码存储分支，master为构建分支。")]),t._v(" "),e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" lts/*\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" yarn docs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("build\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("provider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pages\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("skip-cleanup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("local_dir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docs/.vuepress/dist\n  github"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$GITHUB_TOKEN\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target-branch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keep-history")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" source\n")])])]),e("h3",{attrs:{id:"创建github-token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建github-token"}},[t._v("#")]),t._v(" 创建github token")]),t._v(" "),e("h4",{attrs:{id:"步骤一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤一"}},[t._v("#")]),t._v(" 步骤一")]),t._v(" "),e("img",{attrs:{src:a(452),alt:"步骤一",height:"300"}}),t._v(" "),e("h4",{attrs:{id:"步骤二"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤二"}},[t._v("#")]),t._v(" 步骤二")]),t._v(" "),e("img",{attrs:{src:a(453),alt:"步骤二",width:"300"}}),t._v(" "),e("h4",{attrs:{id:"步骤三"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤三"}},[t._v("#")]),t._v(" 步骤三")]),t._v(" "),e("img",{attrs:{src:a(454),alt:"步骤三",width:"300"}}),t._v(" "),e("h4",{attrs:{id:"步骤四"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤四"}},[t._v("#")]),t._v(" 步骤四")]),t._v(" "),e("img",{attrs:{src:a(455),alt:"步骤四",width:"300"}}),t._v(" "),e("h3",{attrs:{id:"travis-cl-关联"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#travis-cl-关联"}},[t._v("#")]),t._v(" Travis Cl 关联")]),t._v(" "),e("h4",{attrs:{id:"步骤一-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤一-2"}},[t._v("#")]),t._v(" 步骤一")]),t._v(" "),e("img",{attrs:{src:a(456),alt:"步骤一",height:"300"}}),t._v(" "),e("h4",{attrs:{id:"步骤二-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤二-2"}},[t._v("#")]),t._v(" 步骤二")]),t._v(" "),e("img",{attrs:{src:a(457),alt:"步骤二",width:"400"}}),t._v(" "),e("h4",{attrs:{id:"步骤三-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤三-2"}},[t._v("#")]),t._v(" 步骤三")]),t._v(" "),e("img",{attrs:{src:a(458),alt:"步骤三",width:"400"}}),t._v(" "),e("h3",{attrs:{id:"加密github-token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加密github-token"}},[t._v("#")]),t._v(" 加密github token")]),t._v(" "),e("p",[t._v("如果不加密，打包发布一次后，github会自动删除当前token，同时也不安全。")]),t._v(" "),e("ul",[e("li",[t._v("安装travis")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("brew "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" travis\n")])])]),e("ul",[e("li",[t._v("然后在项目根目录里，执行命令")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("travis login --pro\n")])])]),e("ul",[e("li",[t._v("添加加密环境变量")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("\ntravis encrypt "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GITHUB_TOKEN=<YOUR_GITHUB_TOKEN>'")]),t._v(" --add\n\n")])])]),e("h3",{attrs:{id:"加密后"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加密后"}},[t._v("#")]),t._v(" 加密后")]),t._v(" "),e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" lts/*\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" yarn docs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("build\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("provider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pages\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("skip-cleanup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("local_dir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docs/.vuepress/dist\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("github-token")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secure")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 加密key\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target-branch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keep-history")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sources\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secure")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 加密key\n\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);